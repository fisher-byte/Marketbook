# 备份与同步

## Git 流程

1. 创建分支：`git checkout -b backup-YYYYMMDD-描述`
2. 提交：`git add -A` → `git commit -m "描述"`
3. 备份数据（本地 + 服务器）：`./scripts/backup.sh`
4. 推送：`git push -u origin backup-YYYYMMDD-描述`

## 远程仓库

- GitHub: https://github.com/fisher-byte/Marketbook

## 服务器部署

部署时设置环境变量 `SERVER`（如 `user@host`）和 `DEPLOY_PATH`（远程项目目录），按 `项目开发SOP流程.md` 第六节执行。

## 备份说明

- 本地备份：默认写入 `backups/local/marketbook-YYYYMMDD-HHMMSS.db`
- 服务器备份：默认写入 `$DEPLOY_PATH/backups/server/marketbook-YYYYMMDD-HHMMSS.db`
- 可选环境变量：`DATABASE_PATH`（本地 DB 路径）
- 可选环境变量：`LOCAL_BACKUP_DIR`（本地备份目录）
- 可选环境变量：`REMOTE_BACKUP_DIR`（服务器备份目录）
